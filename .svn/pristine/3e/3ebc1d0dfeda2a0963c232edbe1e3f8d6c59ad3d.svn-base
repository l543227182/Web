<%@ page language="java" import="java.util.*"  isELIgnored="false" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
   <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>lc-studio</title>

    <!-- Bootstrap -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <script src="../js/bootstrap.min.js"></script>
    <script type="/text/javascript" src="../js/jquery.min.js"></script>
    <script type="text/javascript" src="../js/base.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <script type="text/javascript">
  

	function validateRegisterForm(){
		
		var $realName=$("input[name='realname']");
		//密码验证	
		var $passwd1=$($("input[name='password']")[0]);
		var $passwd2=$("input[name='repassword']");
		if(!isNull($passwd1.val())){

			if ($passwd1.val().length < 6 || $passwd1.val().length > 14) {
				alert("您的密码少于6位或多于14位!");
				$passwd1.val("");
				$passwd1.focus();
				return false;
			}
			
			if(isNull($passwd2.val())){
				alert("重复密码不能为空！！");
				$passwd2.focus();
				return false;
			}
			if($passwd2.val()!=$passwd1.val()){
				$passwd1.val("");
				$passwd2.val("");
				$passwd1.focus();
				alert("两次密码不相同");
				return false;
			}
		} 	
		
		
		
		
		//邮箱验证
		var $email=$("input[name='email']");
		//alert($email.val());
		if(!isNull($email.val())&&!isEmail($email.val())){
			alert("你的Email不符合规范!");
			$email.val("");
			$email.focus();
			return false;
		}
			   if(isNull($email.val())
				&&isNull($passwd1.val())
				&&isNull($passwd2.val())
				&&isNull($realName.val())){
			alert("无修改");
			return false;
		}
		
		
		if(!confirm("确认提交吗？")){
			return false;
		}
		
		//提交表单
		var $form=$("form[name='ModifyDataForm']");
		   $form.attr("action","index/ModifyData.do");
		   $form.attr("method","post").submit();
	}
  </script>
  <body style="padding-top: 54px">

  

<nav class="navbar   navbar-default  navbar-fixed-top " role="navigation">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" 
      data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">lc-studio</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li class="active"><a href="../index.do"><span class="glyphicon glyphicon-home">&nbsp;数据中心</span></a></li>
        <li><a href="#"><span class="glyphicon glyphicon-eye-open">&nbsp;博客</span></a></li>
        <li><a href="#"><span class="glyphicon glyphicon-cloud-download">&nbsp;文件下载</span></a></li>
       <li><a href="#"><span class=" glyphicon glyphicon-book">&nbsp;所有文章</span></a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-hand-right">&nbsp;学习</span><span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="#">java</a></li>
            <li><a href="#">c++</a></li>
            <li><a href="#">python</a></li>
            <li class="divider"></li>
            <li><a href="#">java框架</a></li>
            <li class="divider"></li>
            <li><a href="#">其他知识</a></li>
          </ul>
        </li> 
          <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-globe">&nbsp;友情链接</span> <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="#">百度</a></li>
            <li><a href="#">ITeye</a></li>
            <li><a href="#">ImportNew</a></li>
            <li class="divider"></li>
            <li><a href="#">csdn</a></li>
            <li><a href="#">微博</a></li>
            <li><a href="#">旧站</a></li>
          </ul>
        </li>     
      </ul>
      <div>
    
      <!-- <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="关键字">
        </div>
        <button type="submit" class="btn btn-default">全站搜索</button>
      </form> -->
    <!--<form class="navbar-form navbar-right" role="search">
      
         <div class="form-group">       
          <p class="navbar-text">用户名:</p>   
            <input type="text" class="form-control" placeholder="Search">
         </div>
           
          <div class="form-group">      
          <p class="navbar-text">密码:</p>
          <input type="password" class="form-control" placeholder="密码">
         </div>
         <button type="submit" class="btn btn-default">提交</button>
      </form>
    -->
     <ul class="nav navbar-nav navbar-right">
      <li>
       <div class="btn-group" >
				   <button type="button" class="btn btn-default dropdown-toggle btn-sm"   
				   		style="margin-right:35px;margin-top: 15px"
				        data-toggle="dropdown">
				    <span class="glyphicon glyphicon-user">
 	 			</span>&nbsp;&nbsp;&nbsp;${user.realname}&nbsp;&nbsp;
				   </button>
				   <ul class="dropdown-menu" role="menu" style="width: 20px; ">
				      <li><a href="../index.do"><span class="glyphicon glyphicon-cog">&nbsp;主页</span></a></li>
				       <li class="divider"></li>
				      <li><a href="../index/logoutUser.do"><span class="glyphicon glyphicon-send">&nbsp;登出</span></a></li>				    
				   </ul>
				</div>
      </li> 
      </ul>
   </div>
   
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
 

  <div class="panel panel-default"  style="float: left;width: 24% ;height: 98% ;border: 0px;">

  <ul class="nav nav-pills nav-stacked" style="margin-left: 6px">
   <li class="active"><a href="#">主页</a></li>
   <li><a href="ToModifyPage.do">修改资料</a></li>
   <li><a href="#">文件上传</a></li>
   <li><a href="#">发布文章</a></li>
   <li><a href="#">数据管理</a></li>
   <li><a href="#">发布公告</a></li>
   <li><a href="#">权限管理</a></li>
   </ul>
   </div>
 	<div class="container" style="float:right ;width:76%;">
 	
 	
 	<div class="panel panel-primary">  
 	 <div class="panel-heading">    
 	  <h3 class="panel-title">資料修改</h3>
 	     </div> 
 	       <div class="panel-body">   
 	     
 				<div class="well well-lg" style="height: 98%">
   				<form  name="ModifyDataForm" class="form-horizontal" role="form">
   				<div class="form-group" align="center" style="padding-left: 80px;"> 
   					<label class="col-sm-2 control-label">你的头像</label>
   					<img style="height: 100px;width: 80px;float: left; border-radius:50%; margin-left: 50px"
						alt="^-^" src="${pageContext.request.contextPath}/headPhoto">
   				</div>
   				<div class="form-group" align="center" style="padding-left: 80px;">
   				   <label class="col-sm-2 control-label">更新头像</label>
   				   <input type="file" name="file">
   				</div>
			   <div class="form-group" align="center" style="padding-left: 80px;">
			    <label class="col-sm-2 control-label">用戶名</label>
			    <div class="col-sm-10" style="height:42px;width:280px">
			      <p class="form-control-static">${user.username}</p>
			    </div>
			  </div>
			   
			    <div class="form-group" style="padding-left: 80px;">
			      <label for="lastname" class="col-sm-2 control-label">姓名</label>
			      <div class="col-sm-10" style="height:42px;width:280px">
			         <input  type="text"   class="form-control" name="realname" 
			            placeholder="请输入姓名">
			      </div>
			   </div>
			   
			    <div class="form-group" style="padding-left: 80px;">
			      <label for="lastname" class="col-sm-2 control-label" >密码</label>
			      <div class="col-sm-10" style="height:42px;width:280px">
			         <input  type="password"   class="form-control" name="password" 
			            placeholder="请输入密码">
			      </div>
			   </div>
			   
			   <div class="form-group" >
			      <label  for="lastname" class="col-sm-2 control-label"style="margin-left: 67px;">重复密码</label>
			      <div class="col-sm-10" style="height:42px;width:280px">
			         <input  type="password"    class="form-control" name="repassword" 
			            placeholder="请输入重复密码">
			      </div>
			   </div>
			   
			    <div class="form-group" style="padding-left: 80px;">
			      <label for="lastname" class="col-sm-2 control-label">邮箱</label>
			      <div class="col-sm-10" style="height:42px;width:280px">
			         <input  type="text"   class="form-control" name="email" 
			            placeholder="请输入邮箱">
			      </div>
			   </div>
			   
			 	  <div class="form-group" style="padding-left: 280px;">   
				 <label>
      		 	<input type="radio" name="gender" id="optionsRadios1" 
        		 value="1" checked="checked"> 男   
        		 </label>
        		  &nbsp;   
        		      
   				<label>
         		 <input type="radio" name="gender" id="optionsRadios2" 
        		 value="0">
       		  	女  </label>
         
			 </div>
			 <div class="form-group" style="padding-left: 400px;">  
			 <button type="button" class="btn btn-primary" onclick="validateRegisterForm()"> 确认修改  </button>
			 </div>
			  </form>
			</div> 
			</div> 
	</div>
</div>
   
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="../js/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../js/bootstrap.min.js"></script>
  </body>
</html>

